{"version":3,"sources":["@wordpress/components/src/ui/control-group/hook.js"],"names":["useControlGroup","props","children","className","direction","templateColumns","otherProps","validChildren","isVertical","isGrid","cx","classes","styles","itemFocus","itemGrid","clonedChildren","map","child","index","isFirst","isLast","length","isOnly","isMiddle","_key","key","first","firstRow","last","lastRow","contextStyles","middle","contextProps"],"mappings":";;;;;;;;;;;AAGA;;AACA;;AACA;;AACA;;AACA;;AAPA;AACA;AACA;;AAOA;AACA;AACA;AACO,SAASA,eAAT,CAA0BC,KAA1B,EAAkC;AACxC,QAAM;AACLC,IAAAA,QADK;AAELC,IAAAA,SAFK;AAGLC,IAAAA,SAAS,GAAG,KAHP;AAILC,IAAAA,eAJK;AAKL,OAAGC;AALE,MAMF,+BAAkBL,KAAlB,EAAyB,cAAzB,CANJ;AAQA,QAAMM,aAAa,GAAG,wCAAkBL,QAAlB,CAAtB;AACA,QAAMM,UAAU,GAAGJ,SAAS,KAAK,QAAjC;AACA,QAAMK,MAAM,GAAG,CAAC,CAAEJ,eAAlB;AAEA,QAAMK,EAAE,GAAG,mBAAX;AAEA,QAAMC,OAAO,GAAGD,EAAE,CACjBE,MAAM,CAACC,SADU,EAEjBJ,MAAM,IAAIG,MAAM,CAACE,QAFA,EAGjBX,SAHiB,CAAlB;AAMA,QAAMY,cAAc,GACnBR,aAAa,IACbA,aAAa,CAACS,GAAd,CAAmB,CAAEC,KAAF,EAASC,KAAT,KAAoB;AACtC,UAAMC,OAAO,GAAGD,KAAK,KAAK,CAA1B;AACA,UAAME,MAAM,GAAGF,KAAK,GAAG,CAAR,KAAcX,aAAa,CAACc,MAA3C;AACA,UAAMC,MAAM,GAAGH,OAAO,IAAIC,MAA1B;AACA,UAAMG,QAAQ,GAAG,CAAEJ,OAAF,IAAa,CAAEC,MAAhC,CAJsC,CAMtC;;AACA,UAAMI,IAAI,GAAG,CAAAP,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAEQ,GAAP,KAAcP,KAA3B;AAEA;;;AACA,QAAIQ,KAAJ;;AACA,QAAKP,OAAL,EAAe;AACd,UAAKX,UAAL,EAAkB;AACjBkB,QAAAA,KAAK,GAAGd,MAAM,CAACe,QAAf;AACA,OAFD,MAEO;AACND,QAAAA,KAAK,GAAGd,MAAM,CAACc,KAAf;AACA;AACD;AAED;;;AACA,QAAIE,IAAJ;;AACA,QAAKR,MAAL,EAAc;AACb,UAAKZ,UAAL,EAAkB;AACjBoB,QAAAA,IAAI,GAAGhB,MAAM,CAACiB,OAAd;AACA,OAFD,MAEO;AACND,QAAAA,IAAI,GAAGhB,MAAM,CAACgB,IAAd;AACA;AACD;;AAED,UAAME,aAAa,GAAGpB,EAAE,CAAEgB,KAAF,EAASH,QAAQ,IAAIX,MAAM,CAACmB,MAA5B,EAAoCH,IAApC,CAAxB;AAEA,UAAMI,YAAY,GAAG;AACpBb,MAAAA,OADoB;AAEpBC,MAAAA,MAFoB;AAGpBG,MAAAA,QAHoB;AAIpBD,MAAAA,MAJoB;AAKpBd,MAAAA,UALoB;AAMpBI,MAAAA,MAAM,EAAEkB;AANY,KAArB;AASA,WACC,4BAAC,6BAAD,CAAqB,QAArB;AACC,MAAA,GAAG,EAAGN,IADP;AAEC,MAAA,KAAK,EAAGQ;AAFT,OAIGf,KAJH,CADD;AAQA,GAhDD,CAFD;AAoDA,SAAO,EACN,GAAGX,UADG;AAENJ,IAAAA,QAAQ,EAAEa,cAFJ;AAGNZ,IAAAA,SAAS,EAAEQ,OAHL;AAINP,IAAAA,SAJM;AAKNC,IAAAA;AALM,GAAP;AAOA","sourcesContent":["/**\n * Internal dependencies\n */\nimport { getValidChildren } from '../utils/get-valid-children';\nimport { useContextSystem } from '../context';\nimport { ControlGroupContext } from './context';\nimport * as styles from './styles';\nimport { useCx } from '../../utils/hooks/use-cx';\n\n/**\n * @param {import('../context').PolymorphicComponentProps<import('./types').Props, 'div'>} props\n */\nexport function useControlGroup( props ) {\n\tconst {\n\t\tchildren,\n\t\tclassName,\n\t\tdirection = 'row',\n\t\ttemplateColumns,\n\t\t...otherProps\n\t} = useContextSystem( props, 'ControlGroup' );\n\n\tconst validChildren = getValidChildren( children );\n\tconst isVertical = direction === 'column';\n\tconst isGrid = !! templateColumns;\n\n\tconst cx = useCx();\n\n\tconst classes = cx(\n\t\tstyles.itemFocus,\n\t\tisGrid && styles.itemGrid,\n\t\tclassName\n\t);\n\n\tconst clonedChildren =\n\t\tvalidChildren &&\n\t\tvalidChildren.map( ( child, index ) => {\n\t\t\tconst isFirst = index === 0;\n\t\t\tconst isLast = index + 1 === validChildren.length;\n\t\t\tconst isOnly = isFirst && isLast;\n\t\t\tconst isMiddle = ! isFirst && ! isLast;\n\n\t\t\t// @ts-ignore\n\t\t\tconst _key = child?.key || index;\n\n\t\t\t/** @type {import('@emotion/react').SerializedStyles | undefined} */\n\t\t\tlet first;\n\t\t\tif ( isFirst ) {\n\t\t\t\tif ( isVertical ) {\n\t\t\t\t\tfirst = styles.firstRow;\n\t\t\t\t} else {\n\t\t\t\t\tfirst = styles.first;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/** @type {import('@emotion/react').SerializedStyles | undefined} */\n\t\t\tlet last;\n\t\t\tif ( isLast ) {\n\t\t\t\tif ( isVertical ) {\n\t\t\t\t\tlast = styles.lastRow;\n\t\t\t\t} else {\n\t\t\t\t\tlast = styles.last;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst contextStyles = cx( first, isMiddle && styles.middle, last );\n\n\t\t\tconst contextProps = {\n\t\t\t\tisFirst,\n\t\t\t\tisLast,\n\t\t\t\tisMiddle,\n\t\t\t\tisOnly,\n\t\t\t\tisVertical,\n\t\t\t\tstyles: contextStyles,\n\t\t\t};\n\n\t\t\treturn (\n\t\t\t\t<ControlGroupContext.Provider\n\t\t\t\t\tkey={ _key }\n\t\t\t\t\tvalue={ contextProps }\n\t\t\t\t>\n\t\t\t\t\t{ child }\n\t\t\t\t</ControlGroupContext.Provider>\n\t\t\t);\n\t\t} );\n\n\treturn {\n\t\t...otherProps,\n\t\tchildren: clonedChildren,\n\t\tclassName: classes,\n\t\tdirection,\n\t\ttemplateColumns,\n\t};\n}\n"]}